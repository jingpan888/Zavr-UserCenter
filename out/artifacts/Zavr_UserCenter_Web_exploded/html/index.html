<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8"><style type="text/css">[v-cloak] {
            display: none;
        }</style>
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport"
          content="width=device-width,initial-scale=1,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"/>
    <meta http-equiv="Cache-Control" content="no-siteapp"/>
    <link rel="Bookmark" href="/favicon.ico">
    <link rel="Shortcut Icon" href="/favicon.ico"/>
    <!--[if lt IE 9]>
    <script type="text/javascript" src="lib/html5shiv.js"></script>
    <script type="text/javascript" src="lib/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="static/h-ui/css/H-ui.min.css"/>
    <link rel="stylesheet" type="text/css" href="static/h-ui.admin/css/H-ui.admin.css"/>
    <link rel="stylesheet" type="text/css" href="lib/Hui-iconfont/1.0.8/iconfont.css"/>
    <link rel="stylesheet" type="text/css" href="static/h-ui.admin/skin/default/skin.css" id="skin"/>
    <link rel="stylesheet" type="text/css" href="static/h-ui.admin/css/style.css"/>


    <!--[if IE 6]>
    <script type="text/javascript" src="lib/DD_belatedPNG_0.0.8a-min.js"></script>
    <script>DD_belatedPNG.fix('*');</script>
    <![endif]-->
    <title>zavrs</title>
    <meta name="keywords" content="">
    <meta name="description" content="">
    <style>
        #111 {
            margin-left: 20px;
            outline: 1px solid rebeccapurple;
        }

        #111 p:hover {
            color: red;
        }
    </style>
</head>
<body>
<div id="app" v-cloak>
    <header class="navbar-wrapper">
        <div class="navbar navbar-fixed-top">
            <div class="container-fluid cl"><a class="logo navbar-logo f-l mr-10 hidden-xs"
                                               href="/html/index.html">Zavrs</a> <a
                    class="logo navbar-logo-m f-l mr-10 visible-xs" href="/html/index.html">H-ui</a>
                <span class="logo navbar-slogan f-l mr-10 hidden-xs">v1.0 </span>
                <a aria-hidden="false" class="nav-toggle Hui-iconfont visible-xs"
                   href="javascript:void(0);">&#xe667;</a>
                <nav id="Hui-userbar" class="nav navbar-nav navbar-userbar hidden-xs">
                    <ul class="cl">
                        <li v-if="type==1">管理员</li>
                        <li v-if="type==2">客服人员</li>
                        <li v-if="type==3">市场人员</li>
                        <li class="dropDown dropDown_hover">
                            <a href="#" class="dropDown_A">[{{name}}]<i class="Hui-iconfont">&#xe6d5;</i></a>
                            <ul class="dropDown-menu menu radius box-shadow">
                                <!--<li><a href="javascript:;" onClick="myselfinfo()">个人信息</a></li>-->
                                <li><a href="#" onclick="clearCookie('islogin')">切换账户</a></li>
                                <li><a href="#" onclick="clearCookie('islogin')">退出</a></li>
                            </ul>
                        </li>
                        <!--<li id="Hui-msg"> <a href="#" title="消息"><span class="badge badge-danger">1</span><i class="Hui-iconfont" style="font-size:18px">&#xe68a;</i></a> </li>-->
                        <li id="Hui-skin" class="dropDown right dropDown_hover"><a href="javascript:;"
                                                                                   class="dropDown_A" title="换肤"><i
                                class="Hui-iconfont" style="font-size:18px">&#xe62a;</i></a>
                            <ul class="dropDown-menu menu radius box-shadow">
                                <li><a href="javascript:;" data-val="default" title="默认（黑色）">默认（黑色）</a></li>
                                <li><a href="javascript:;" data-val="blue" title="蓝色">蓝色</a></li>
                                <li><a href="javascript:;" data-val="green" title="绿色">绿色</a></li>
                                <li><a href="javascript:;" data-val="red" title="红色">红色</a></li>
                                <li><a href="javascript:;" data-val="yellow" title="黄色">黄色</a></li>
                                <li><a href="javascript:;" data-val="orange" title="橙色">橙色</a></li>
                            </ul>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>
    <aside class="Hui-aside">
        <div class="menu_dropdown bk_2">
            <dl v-for="m in menus">
                <dt><i :class="m.icon"></i>&nbsp;&nbsp;{{m.name}}<i class="Hui-iconfont menu_dropdown-arrow">&#xe6d5;</i>
                </dt>
                <dd>
                    <ul>
                        <li v-for="c in m.childList"><a :data-href="c.menuUrl" :data-title="c.name" href="javascript:void(0)">{{c.name}}</a></li>
                    </ul>
                </dd>
            </dl>
        </div>
    </aside>
    <div class="dislpayArrow hidden-xs"><a class="pngfix" href="javascript:void(0);" onClick="displaynavbar(this)"></a>
    </div>
    <section class="Hui-article-box">
        <div id="Hui-tabNav" class="Hui-tabNav hidden-xs">
            <div class="Hui-tabNav-wp">
                <ul id="min_title_list" class="acrossTab cl">
                    <!--<li class="active">-->
                        <!--<span title="Welcome!" data-href="welcome.html">Welcome!</span>-->
                        <!--<em></em>-->
                    <!--</li>-->
                </ul>
            </div>
            <div class="Hui-tabNav-more btn-group"><a id="js-tabNav-prev" class="btn radius btn-default size-S"
                                                      href="javascript:;"><i class="Hui-iconfont">&#xe6d4;</i></a><a
                    id="js-tabNav-next" class="btn radius btn-default size-S" href="javascript:;"><i
                    class="Hui-iconfont">&#xe6d7;</i></a></div>
        </div>
        <div id="iframe_box" class="Hui-article">
            <div class="show_iframe">
                <div style="display:none" class="loading"></div>
                <iframe scrolling="yes" frameborder="0" src="welcome.html"></iframe>
            </div>
        </div>
    </section>

    <div class="contextMenu" id="Huiadminmenu">
        <ul>
            <li id="closethis">关闭当前</li>
            <li id="closeall">关闭全部</li>
        </ul>
    </div>
</div>
<!--_footer 作为公共模版分离出去-->
<script type="text/javascript" src="lib/jquery/1.9.1/jquery.min.js"></script>
<script type="text/javascript" src="lib/layer/2.4/layer.js"></script>
<script type="text/javascript" src="lib/vue.min.js"></script>
<script type="text/javascript" src="lib/request.js"></script>
<!--请在下方写此页面业务相关的脚本-->
<script type="text/javascript" src="lib/jquery.contextmenu/jquery.contextmenu.r2.js"></script>
<script type="text/javascript">
    // 创建一个 Vue 实例或 "ViewModel"
    // 它连接 View 与 Model
    let vue = new Vue({
        el: '#app',
        data: {
            type: UrlParam.paramValues("type"),
            name: JSON.parse(getCookie("islogin") ).Data.name,
            menus:[]
        },
        updated: function () {
		  this.$nextTick(function () {
		    loadJs("static/h-ui/js/H-ui.min.js");
        	loadJs("static/h-ui.admin/js/H-ui.admin.js");
		  })
		}
    })
    
	$(function(){
		getMenuList();
	});
       
    function getMenuList() {
    	var islogin = JSON.parse(getCookie("islogin"));
    	var param = "{'uId':'" + islogin.Data.id + "'}";
    
    	$.ajax({
    		type: "post",
            url: GetUserMenus,
            data: {parameter:param},
            dataType: "json",
            success: function(data){
            	if(data != null) {
          			vue.menus = data;
            	}
            }
    	});
    }

	function append(data){
		let html = '';
		for(let i=0;i<data.length;i++){
			html += '<dl><dt><i class="Hui-iconfont">'+data[i].icon+'</i>  '+data[i].name+'<i class="Hui-iconfont menu_dropdown-arrow">&#xe6d5;</i></dt><dd><ul>';
			if(data[i].childList != null){
				for(let y=0;y<data[i].childList.length;y++){
					let list = data[i].childList[y];
					html += '<li><a data-href="'+list.menuUrl+'" data-title="'+list.name+'" href="javascript:void(0)">'+list.name+'</a></li>';
				}
			}
			html+= '</ul></dd></dl>';	
		}
		$(".menu_dropdown").append(html);
		loadJs("static/h-ui/js/H-ui.min.js");
        loadJs("static/h-ui.admin/js/H-ui.admin.js");
	}

    function loadJs(file) {
        var head = $("head").remove("script[role='reload']");
        $("<scri" + "pt>" + "</scr" + "ipt>").attr({ role: 'reload', src: file, type: 'text/javascript' }).appendTo(head);
    }

    /*个人信息*/
    function myselfinfo() {
        layer.open({
            type: 1,
            area: ['300px', '200px'],
            fix: false, //不固定
            maxmin: true,
            shade: 0.4,
            title: '查看信息',
            content: '<div>管理员信息</div>'
        });
    }

    /*资讯-添加*/
    function article_add(title, url) {
        var index = layer.open({
            type: 2,
            title: title,
            content: url
        });
        layer.full(index);
    }

    /*图片-添加*/
    function picture_add(title, url) {
        var index = layer.open({
            type: 2,
            title: title,
            content: url
        });
        layer.full(index);
    }

    /*产品-添加*/
    function product_add(title, url) {
        var index = layer.open({
            type: 2,
            title: title,
            content: url
        });
        layer.full(index);
    }

    /*用户-添加*/
    function member_add(title, url, w, h) {
        layer_show(title, url, w, h);
    }


</script>
<script>
    // console.log($("#111").get(0).style.display)
    function changeOne(obj) {
        if ($("#111").get(0).style.display == "none") {
            $("#111").css("display", "block")
        } else {
            $("#111").css("display", "none")
        }
        $(obj).get(0).style.height = "100px";
    }
</script>
<script type="text/javascript" src="static/h-ui/js/H-ui.min.js"></script>
<script type="text/javascript" src="static/h-ui.admin/js/H-ui.admin.js"></script> <!--/_footer 作为公共模版分离出去-->

</body>
</html>